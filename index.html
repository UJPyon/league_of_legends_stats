<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>LoL Stats</title>

  <link rel="stylesheet" href="./assets/style/reset.css">
  <link rel="stylesheet" href="./assets/style/index.css">
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://d3js.org/d3-contour.v1.min.js"></script>
  <script src="./dist/main.js"></script>
</head>

<body>
  <script>
    const ironJson = './match_data/iron_match_data.json';
    const bronzeJson = './match_data/bronze_match_data.json';
    const silverJson = './match_data/silver_match_data.json';
    const goldJson = './match_data/gold_match_data.json';
    const platJson = './match_data/platinum_match_data.json';
    const diamondJson = './match_data/diamond_match_data.json';
    const masterJson = './match_data/master_match_data.json';
    const grandJson = './match_data/grandmaster_match_data.json';
    const challengerJson = './match_data/challenger_match_data.json';
  </script>

  <section class="main">
    <section>
      <div id="buttonSet1">
        <img class="button active" src="./assets/images/button_iron.png" onclick="changeData(`${ironJson}`), updateGraph1(`${ironJson}`)">
        <img class="button" src="./assets/images/button_bronze.png" onclick="changeData(`${bronzeJson}`), updateGraph1(`${bronzeJson}`)">
        <img class="button" src="./assets/images/button_silver.png" onclick="changeData(`${silverJson}`), updateGraph1(`${silverJson}`)">
        <img class="button" src="./assets/images/button_gold.png" onclick="changeData(`${goldJson}`), updateGraph1(`${goldJson}`)">
        <img class="button" src="./assets/images/button_platinum.png" onclick="changeData(`${platJson}`), updateGraph1(`${platJson}`)">
        <img class="button" src="./assets/images/button_diamond.png" onclick="changeData(`${diamondJson}`), updateGraph1(`${diamondJson}`)">
        <img class="button" src="./assets/images/button_master.png" onclick="changeData(`${masterJson}`), updateGraph1(`${masterJson}`)">
        <img class="button" src="./assets/images/button_grandmaster.png" onclick="changeData(`${grandJson}`), updateGraph1(`${grandJson}`)">
        <img class="button" src="./assets/images/button_challenger.png" onclick="changeData(`${challengerJson}`), updateGraph1(`${challengerJson}`)">
      </div>
      <div id="map1" class="map1"></div>
    </section>

    
    <section>
      <button id="btn1" class="btn1">What is League of Legends?</button>
      <button id="btn2" class="btn2">What's being displayed?</button>

      <div class="title">
        <img src="./assets/images/league_logo.png">
        <header>Early Game Statistics</header>
        <h3>Avg. per game</h3>
      </div>
      <div id="barGraph" class="barGraph"></div>
      <ul class="barGraph-labels">
        <li><p>Towers</p><p>Destroyed</p></li>
        <li>Wards Placed</li>
        <li>Total Gold</li>
        <li><p>Lane Minions</p><p>Killed</p></li>
        <li><p>Jungle Minions</p><p>Killed</p></li>
      </ul>
      <div id="barGraph2" class="barGraph2"></div>
    </section>

    <section>
      <div id="buttonSet2">
        <img class="button2" src="./assets/images/button_iron.png" onclick="changeData2(`${ironJson}`), updateGraph2(`${ironJson}`)">
        <img class="button2" src="./assets/images/button_bronze.png" onclick="changeData2(`${bronzeJson}`), updateGraph2(`${bronzeJson}`)">
        <img class="button2" src="./assets/images/button_silver.png" onclick="changeData2(`${silverJson}`), updateGraph2(`${silverJson}`)">
        <img class="button2" src="./assets/images/button_gold.png" onclick="changeData2(`${goldJson}`), updateGraph2(`${goldJson}`)">
        <img class="button2" src="./assets/images/button_platinum.png" onclick="changeData2(`${platJson}`), updateGraph2(`${platJson}`)">
        <img class="button2" src="./assets/images/button_diamond.png" onclick="changeData2(`${diamondJson}`), updateGraph2(`${diamondJson}`)">
        <img class="button2" src="./assets/images/button_master.png" onclick="changeData2(`${masterJson}`), updateGraph2(`${masterJson}`)">
        <img class="button2" src="./assets/images/button_grandmaster.png" onclick="changeData2(`${grandJson}`), updateGraph2(`${grandJson}`)">
        <img class="button2 active2" src="./assets/images/button_challenger.png" onclick="changeData2(`${challengerJson}`), updateGraph2(`${challengerJson}`)">
      </div>
      <div id="map2" class="map2"></div>
    </section>
  </section>

  <!-- Wallpaper Image for Background -->
  <img class="background" src="http://getwallpapers.com/wallpaper/full/6/d/d/248922.jpg">

  <script>
  const iconContainer1 = document.getElementById("buttonSet1");
    const buttonSet1 = iconContainer1.getElementsByClassName("button");
    for (let i = 0; i < buttonSet1.length; i++) {
      buttonSet1[i].addEventListener("click", function () {
        const current = document.getElementsByClassName("active");
        if (current.length > 0) {
          current[0].className = current[0].className.replace(" active", "");
        }
        this.className += " active";
      });
    }
    const iconContainer2 = document.getElementById("buttonSet2");
    const buttonSet2 = iconContainer2.getElementsByClassName("button2");
    for (let i = 0; i < buttonSet2.length; i++) {
      buttonSet2[i].addEventListener("click", function () {
        const current = document.getElementsByClassName("active2");
        if (current.length > 0) {
          current[0].className = current[0].className.replace(" active2", "");
        }
        this.className += " active2";
      });
    }
  </script>
    
    <!-- Intro Modal -->
    <div id="myModal1" class="info-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>What is League of Legends?</h2>
          <span class="close1">&times;</span>
        </div>
        <p>League of Legends is a fast-paced popular online multiplayer game that involves working as a team of 5 against
          another team to take down the opposing team's base. As a highly competitive game, many people often look toward
          statistical comparisons on how they perform early on in a game compared to those at a higher skill level. This
          project aims to provide a sample selection of data collected from games across different skill levels as a visual
          comparison of how players in different leagues stack against each other.</p>
      </div>
    </div>
    
    <!-- Info Modal -->
    <div id="myModal2" class="info-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>What's being displayed?</h2>
          <span class="close2">&times;</span>
        </div>
        <p>The game map shows patterns of player deaths in the first 15 minutes in a sample selection of matches ranging
          from the
          lowest tier of ranked play (iron tier) to the highest level tier (challenger tier) from left to right. The
          breakdown of
          average stats per game's first 15 minutes, such as total gold earned, wards placed, and towers destroyed on the
          map are graphed
          to show the differences in numbers of how different level divisions perform within the early stages of the game.
        </p>
      </div>
    </div>
    
    <script>
      // --Handling modal logic--
      const modal1 = document.getElementById("myModal1");
      const modal2 = document.getElementById("myModal2");
      const btn1 = document.getElementById("btn1");
      const btn2 = document.getElementById("btn2");
      const span1 = document.getElementsByClassName("close1")[0];
      const span2 = document.getElementsByClassName("close2")[0];

      btn1.onclick = function () {
        modal1.style.display = "block";
      }
      btn2.onclick = function () {
        modal2.style.display = "block";
      }

      span1.onclick = function () {
        modal1.style.display = "none";
      }
      span2.onclick = function () {
        modal2.style.display = "none";
      }

      window.onclick = function (event) {
        if (event.target == modal1) {
          modal1.style.display = "none";
        } else if (event.target == modal2) {
          modal2.style.display = "none";
        }
      }
    </script>
    <script src="./dist/main.js"></script>
    <script src="./src/bar_graph_stats.js"></script>
</body>

</html>